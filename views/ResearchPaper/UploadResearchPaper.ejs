<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>

<body class="bg-light">
    <!-- Responsive bootstrap form which has fileds for uploading research paper like Research paper title, description, team memebr, guide, skills required, notedetails, etc. -->

    <!-- i fmessage is set then show alert otherwise not --> 
    <% if(typeof message != "undefined" && message){ %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <%= message.message %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <% } %>


    <div class="container mt-3 ">
        <div class="wholeform bg-white ps-3 pe-3 pb-3 border-dark shadow-lg bg-body rounded">
        <h2 class="text-center mb-3 mt-3">Upload Research paper details</h2>

    <form action="/uploadResearchPaper" method="post">
        <div class="form-group mb-4">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title" required>
        </div>
        <div class="form-group mb-4">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
        </div>
        <div class="form-group mb-4">
            <label for="category">category</label>
            <select name="category" id="category">

            </select>
        </div>
        <div class="form-group mb-4">
            <label for="teamMembers">Team Members</label>
            <input type="text" class="form-control" id="teamMembers" name="teamMembers" required>
        </div>
        <div class="form-group mb-4">
            <label for="guide">Guide</label>
            <input type="text" class="form-control" id="guide" name="guide" required>
        </div>
        <div class="form-group mb-4">
            <label for="skillsRequired">Skills Required</label>
            <input type="text" class="form-control" id="skillsRequired" name="skillsRequired" required>
        </div>
        <div class="form-group mb-4">
            <label for="noteDetails">Note Details</label>
            <input type="text" class="form-control" id="noteDetails" name="noteDetails" required>
        </div>
        <!-- submit buuton  -->
        <button type="submit" class="btn btn-primary">Submit</button>

    </form>
</div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
//  call fetch api to get all categories from database and display it in select tag
    $(document).ready(function() {
        fetch('/api/Categories')
            .then(response => response.json())
            .then(data => {
                let categories=data.data.categories[0].researchPaper.category;
                console.log(categories);
                categories.forEach(category => {
                    $('#category').append(`<option value="${category}">${category}</option>`)
                });
            })
    })
</script>
</html>